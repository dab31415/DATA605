GarageCond + GarageYrBlt + CentralAir)
summary(house_model.lm)
# Removing YearRemodAdd
house_model.lm <- lm(data = my_train_house, formula = SalePrice ~ OverallQual + Neighborhood + ExterQual + KitchenQual + GarageCars + GarageArea +
BsmtQual + X1stFlrSF + FullBath + GarageFinish + TotRmsAbvGrd + FireplaceQu + YearBuilt + Foundation +
GarageType + MSSubClass + MasVnrArea + Fireplaces + HeatingQC + MasVnrType + BsmtFinSF1 + BsmtFinType1 + BsmtExposure + SaleType +
Exterior1st + Exterior2nd + WoodDeckSF + X2ndFlrSF + HalfBath + GarageQual + HouseStyle + LotShape + LotArea +
GarageCond + GarageYrBlt + CentralAir)
summary(house_model.lm)
# Removing GarageType
house_model.lm <- lm(data = my_train_house, formula = SalePrice ~ OverallQual + Neighborhood + ExterQual + KitchenQual + GarageCars + GarageArea +
BsmtQual + X1stFlrSF + FullBath + GarageFinish + TotRmsAbvGrd + FireplaceQu + YearBuilt + Foundation +
MSSubClass + MasVnrArea + Fireplaces + HeatingQC + MasVnrType + BsmtFinSF1 + BsmtFinType1 + BsmtExposure + SaleType +
Exterior1st + Exterior2nd + WoodDeckSF + X2ndFlrSF + HalfBath + GarageQual + HouseStyle + LotShape + LotArea +
GarageCond + GarageYrBlt + CentralAir)
summary(house_model.lm)
# Removing Exterior2nd
house_model.lm <- lm(data = my_train_house, formula = SalePrice ~ OverallQual + Neighborhood + ExterQual + KitchenQual + GarageCars + GarageArea +
BsmtQual + X1stFlrSF + FullBath + GarageFinish + TotRmsAbvGrd + FireplaceQu + YearBuilt + Foundation +
MSSubClass + MasVnrArea + Fireplaces + HeatingQC + MasVnrType + BsmtFinSF1 + BsmtFinType1 + BsmtExposure + SaleType +
Exterior1st + WoodDeckSF + X2ndFlrSF + HalfBath + GarageQual + HouseStyle + LotShape + LotArea +
GarageCond + GarageYrBlt + CentralAir)
summary(house_model.lm)
# Removing HalfBath
house_model.lm <- lm(data = my_train_house, formula = SalePrice ~ OverallQual + Neighborhood + ExterQual + KitchenQual + GarageCars + GarageArea +
BsmtQual + X1stFlrSF + FullBath + GarageFinish + TotRmsAbvGrd + FireplaceQu + YearBuilt + Foundation +
MSSubClass + MasVnrArea + Fireplaces + HeatingQC + MasVnrType + BsmtFinSF1 + BsmtFinType1 + BsmtExposure + SaleType +
Exterior1st + WoodDeckSF + X2ndFlrSF + GarageQual + HouseStyle + LotShape + LotArea +
GarageCond + GarageYrBlt + CentralAir)
summary(house_model.lm)
# Removing GarageCond
house_model.lm <- lm(data = my_train_house, formula = SalePrice ~ OverallQual + Neighborhood + ExterQual + KitchenQual + GarageCars + GarageArea +
BsmtQual + X1stFlrSF + FullBath + GarageFinish + TotRmsAbvGrd + FireplaceQu + YearBuilt + Foundation +
MSSubClass + MasVnrArea + Fireplaces + HeatingQC + MasVnrType + BsmtFinSF1 + BsmtFinType1 + BsmtExposure + SaleType +
Exterior1st + WoodDeckSF + X2ndFlrSF + GarageQual + HouseStyle + LotShape + LotArea +
GarageYrBlt + CentralAir)
summary(house_model.lm)
# Removing HouseStyle
house_model.lm <- lm(data = my_train_house, formula = SalePrice ~ OverallQual + Neighborhood + ExterQual + KitchenQual + GarageCars + GarageArea +
BsmtQual + X1stFlrSF + FullBath + GarageFinish + TotRmsAbvGrd + FireplaceQu + YearBuilt + Foundation +
MSSubClass + MasVnrArea + Fireplaces + HeatingQC + MasVnrType + BsmtFinSF1 + BsmtFinType1 + BsmtExposure + SaleType +
Exterior1st + WoodDeckSF + X2ndFlrSF + GarageQual + LotShape + LotArea +
GarageYrBlt + CentralAir)
summary(house_model.lm)
# Removing Foundation
house_model.lm <- lm(data = my_train_house, formula = SalePrice ~ OverallQual + Neighborhood + ExterQual + KitchenQual + GarageCars + GarageArea +
BsmtQual + X1stFlrSF + FullBath + GarageFinish + TotRmsAbvGrd + FireplaceQu + YearBuilt +
MSSubClass + MasVnrArea + Fireplaces + HeatingQC + MasVnrType + BsmtFinSF1 + BsmtFinType1 + BsmtExposure + SaleType +
Exterior1st + WoodDeckSF + X2ndFlrSF + GarageQual + LotShape + LotArea +
GarageYrBlt + CentralAir)
summary(house_model.lm)
# Removing GarageArea
house_model.lm <- lm(data = my_train_house, formula = SalePrice ~ OverallQual + Neighborhood + ExterQual + KitchenQual + GarageCars +
BsmtQual + X1stFlrSF + FullBath + GarageFinish + TotRmsAbvGrd + FireplaceQu + YearBuilt +
MSSubClass + MasVnrArea + Fireplaces + HeatingQC + MasVnrType + BsmtFinSF1 + BsmtFinType1 + BsmtExposure + SaleType +
Exterior1st + WoodDeckSF + X2ndFlrSF + GarageQual + LotShape + LotArea +
GarageYrBlt + CentralAir)
summary(house_model.lm)
# Removing Fireplaces
house_model.lm <- lm(data = my_train_house, formula = SalePrice ~ OverallQual + Neighborhood + ExterQual + KitchenQual + GarageCars +
BsmtQual + X1stFlrSF + FullBath + GarageFinish + TotRmsAbvGrd + FireplaceQu + YearBuilt +
MSSubClass + MasVnrArea + HeatingQC + MasVnrType + BsmtFinSF1 + BsmtFinType1 + BsmtExposure + SaleType +
Exterior1st + WoodDeckSF + X2ndFlrSF + GarageQual + LotShape + LotArea +
GarageYrBlt + CentralAir)
summary(house_model.lm)
# Removing GarageFinish
house_model.lm <- lm(data = my_train_house, formula = SalePrice ~ OverallQual + Neighborhood + ExterQual + KitchenQual + GarageCars +
BsmtQual + X1stFlrSF + FullBath + TotRmsAbvGrd + FireplaceQu + YearBuilt +
MSSubClass + MasVnrArea + HeatingQC + MasVnrType + BsmtFinSF1 + BsmtFinType1 + BsmtExposure + SaleType +
Exterior1st + WoodDeckSF + X2ndFlrSF + GarageQual + LotShape + LotArea +
GarageYrBlt + CentralAir)
summary(house_model.lm)
# Removing BsmtFinType1
house_model.lm <- lm(data = my_train_house, formula = SalePrice ~ OverallQual + Neighborhood + ExterQual + KitchenQual + GarageCars +
BsmtQual + X1stFlrSF + FullBath + GarageFinish + TotRmsAbvGrd + FireplaceQu + YearBuilt +
MSSubClass + MasVnrArea + HeatingQC + MasVnrType + BsmtFinSF1 + BsmtExposure + SaleType +
Exterior1st + WoodDeckSF + X2ndFlrSF + GarageQual + LotShape + LotArea +
GarageYrBlt + CentralAir)
summary(house_model.lm)
# Removing GarageFinish
house_model.lm <- lm(data = my_train_house, formula = SalePrice ~ OverallQual + Neighborhood + ExterQual + KitchenQual + GarageCars +
BsmtQual + X1stFlrSF + FullBath + TotRmsAbvGrd + FireplaceQu + YearBuilt +
MSSubClass + MasVnrArea + HeatingQC + MasVnrType + BsmtFinSF1 + BsmtExposure + SaleType +
Exterior1st + WoodDeckSF + X2ndFlrSF + GarageQual + LotShape + LotArea +
GarageYrBlt + CentralAir)
summary(house_model.lm)
# Removing CentralAir
house_model.lm <- lm(data = my_train_house, formula = SalePrice ~ OverallQual + Neighborhood + ExterQual + KitchenQual + GarageCars +
BsmtQual + X1stFlrSF + FullBath + TotRmsAbvGrd + FireplaceQu + YearBuilt +
MSSubClass + MasVnrArea + HeatingQC + MasVnrType + BsmtFinSF1 + BsmtExposure + SaleType +
Exterior1st + WoodDeckSF + X2ndFlrSF + GarageQual + LotShape + LotArea +
GarageYrBlt)
summary(house_model.lm)
# Removing FullBath
house_model.lm <- lm(data = my_train_house, formula = SalePrice ~ OverallQual + Neighborhood + ExterQual + KitchenQual + GarageCars +
BsmtQual + X1stFlrSF + TotRmsAbvGrd + FireplaceQu + YearBuilt +
MSSubClass + MasVnrArea + HeatingQC + MasVnrType + BsmtFinSF1 + BsmtExposure + SaleType +
Exterior1st + WoodDeckSF + X2ndFlrSF + GarageQual + LotShape + LotArea +
GarageYrBlt)
summary(house_model.lm)
# Removing Exterior1st
house_model.lm <- lm(data = my_train_house, formula = SalePrice ~ OverallQual + Neighborhood + ExterQual + KitchenQual + GarageCars +
BsmtQual + X1stFlrSF + TotRmsAbvGrd + FireplaceQu + YearBuilt +
MSSubClass + MasVnrArea + HeatingQC + MasVnrType + BsmtFinSF1 + BsmtExposure + SaleType +
WoodDeckSF + X2ndFlrSF + GarageQual + LotShape + LotArea +
GarageYrBlt)
summary(house_model.lm)
# Removing LotShape
house_model.lm <- lm(data = my_train_house, formula = SalePrice ~ OverallQual + Neighborhood + ExterQual + KitchenQual + GarageCars +
BsmtQual + X1stFlrSF + TotRmsAbvGrd + FireplaceQu + YearBuilt +
MSSubClass + MasVnrArea + HeatingQC + MasVnrType + BsmtFinSF1 + BsmtExposure + SaleType +
WoodDeckSF + X2ndFlrSF + GarageQual + LotArea + GarageYrBlt)
summary(house_model.lm)
# Removing MasVnrType
house_model.lm <- lm(data = my_train_house, formula = SalePrice ~ OverallQual + Neighborhood + ExterQual + KitchenQual + GarageCars +
BsmtQual + X1stFlrSF + TotRmsAbvGrd + FireplaceQu + YearBuilt +
MSSubClass + MasVnrArea + HeatingQC + BsmtFinSF1 + BsmtExposure + SaleType +
WoodDeckSF + X2ndFlrSF + GarageQual + LotArea + GarageYrBlt)
summary(house_model.lm)
# Removing TotRmsAbvGrd
house_model.lm <- lm(data = my_train_house, formula = SalePrice ~ OverallQual + Neighborhood + ExterQual + KitchenQual + GarageCars +
BsmtQual + X1stFlrSF + FireplaceQu + YearBuilt +
MSSubClass + MasVnrArea + HeatingQC + BsmtFinSF1 + BsmtExposure + SaleType +
WoodDeckSF + X2ndFlrSF + GarageQual + LotArea + GarageYrBlt)
summary(house_model.lm)
# Removing HeatingQC
house_model.lm <- lm(data = my_train_house, formula = SalePrice ~ OverallQual + Neighborhood + ExterQual + KitchenQual + GarageCars +
BsmtQual + X1stFlrSF + FireplaceQu + YearBuilt +
MSSubClass + MasVnrArea + BsmtFinSF1 + BsmtExposure + SaleType +
WoodDeckSF + X2ndFlrSF + GarageQual + LotArea + GarageYrBlt)
summary(house_model.lm)
plot(fitted(house_model.lm),resid(house_model.lm))
qqnorm(resid(house_model.lm))
qqline(resid(house_model.lm))
my_test_house <- house_clean(test_house)
house_prediction <- predict(house_model.lm, newdata = my_test_house)
summary(house_prediction)
texamine('GarageCars')
house_clean <- function(df) {
df <- df %>%
mutate(MSSubClass = case_when(MSSubClass == 30 ~ 0, MSSubClass == 180 ~ 1,
MSSubClass == 45 ~ 2, MSSubClass == 190 ~ 3,
MSSubClass == 90 ~ 4, MSSubClass == 160 ~ 5,
MSSubClass == 50 ~ 6, MSSubClass == 85 ~ 7,
MSSubClass == 40 ~ 8, MSSubClass == 70 ~ 9,
MSSubClass == 80 ~ 10, MSSubClass == 20 ~ 11,
MSSubClass == 75 ~ 12, MSSubClass == 120 ~ 13,
MSSubClass == 150 ~ 14, MSSubClass == 60 ~ 15)) %>%
mutate(MSZoning = case_when(MSZoning == 'A' ~ 0, MSZoning == 'C' ~ 1,
MSZoning == 'C (all)' ~ 1, MSZoning == 'I' ~ 2,
MSZoning == 'RM' ~ 3, MSZoning == 'RH' ~ 4,
MSZoning == 'RL' ~ 5, MSZoning == 'RP' ~ 6,
MSZoning == 'FV' ~ 7, is.na(MSZoning) ~ 0)) %>%
mutate(Street = case_when(Street == 'Grvl' ~ 0, Street == 'Pave' ~ 1, is.na(Street) ~ 0)) %>%
mutate(Alley = case_when(Alley == 'Grvl' ~ 0, Alley == 'Pave' ~ 1, is.na(Alley) ~ 2)) %>%
mutate(LotShape = case_when(LotShape == 'Reg' ~ 0, LotShape == 'IR1' ~ 1,
LotShape == 'IR3' ~ 2, LotShape == 'IR2' ~ 3)) %>%
mutate(LandContour = case_when(LandContour == 'Bnk' ~ 0, LandContour == 'Lvl' ~ 1,
LandContour == 'Low' ~ 2, LandContour == 'HLS' ~ 3)) %>%
mutate(Utilities = case_when(Utilities == 'ELO' ~ 0, Utilities == 'NoSeWa' ~ 1,
Utilities == 'NoSewr' ~ 2, Utilities == 'AllPub' ~ 3, is.na(Utilities) ~ 0)) %>%
mutate(LotConfig = case_when(LotConfig == 'Inside' ~ 0, LotConfig == 'FR2' ~ 1,
LotConfig == 'Corner' ~ 2, LotConfig == 'FR3' ~ 3,
LotConfig == 'CulDSac' ~ 4)) %>%
mutate(LandSlope = case_when(LandSlope == 'Gtl' ~ 0, LandSlope == 'Mod' ~ 1,
LandSlope == 'Sev' ~ 2)) %>%
mutate(Neighborhood = case_when(Neighborhood == 'MeadowV' ~ 0, Neighborhood == 'IDOTRR' ~ 1,
Neighborhood == 'BrDale' ~ 2, Neighborhood == 'BrkSide' ~ 3,
Neighborhood == 'Edwards' ~ 4, Neighborhood == 'OldTown' ~ 5,
Neighborhood == 'Sawyer' ~ 6, Neighborhood == 'Blueste' ~ 7,
Neighborhood == 'SWISU' ~ 8, Neighborhood == 'NPkVill' ~ 9,
Neighborhood == 'NAmes' ~ 10, Neighborhood == 'Mitchel' ~ 11,
Neighborhood == 'SawyerW' ~ 12, Neighborhood == 'NWAmes' ~ 13,
Neighborhood == 'Gilbert' ~ 14, Neighborhood == 'Blmngtn' ~ 15,
Neighborhood == 'CollgCr' ~ 16, Neighborhood == 'Crawfor' ~ 17,
Neighborhood == 'ClearCr' ~ 18, Neighborhood == 'Somerst' ~ 19,
Neighborhood == 'Veenker' ~ 20, Neighborhood == 'Timber' ~ 21,
Neighborhood == 'StoneBr' ~ 22, Neighborhood == 'NridgHt' ~ 23,
Neighborhood == 'NoRidge' ~ 24)) %>%
mutate(Condition1 = case_when(Condition1 == 'Artery' ~ 0, Condition1 == 'RRAe' ~ 1,
Condition1 == 'Feedr' ~ 2, Condition1 == 'RRAn' ~ 3,
Condition1 == 'Norm' ~ 4, Condition1 == 'RRNe' ~ 5,
Condition1 == 'RRNn' ~ 6, Condition1 == 'PosN' ~ 7,
Condition1 == 'PosA' ~ 8)) %>%
mutate(Condition2 = case_when(Condition2 == 'Artery' ~ 0, Condition2 == 'RRAe' ~ 1,
Condition2 == 'Feedr' ~ 2, Condition2 == 'RRAn' ~ 3,
Condition2 == 'Norm' ~ 4, Condition2 == 'RRNe' ~ 5,
Condition2 == 'RRNn' ~ 6, Condition2 == 'PosN' ~ 7,
Condition2 == 'PosA' ~ 8)) %>%
mutate(BldgType = case_when(BldgType == '2fmCon' ~ 0, BldgType == 'Twnhs' ~ 1,
BldgType == 'Duplex' ~ 2, BldgType == 'TwnhsE' ~ 3,
BldgType == '1Fam' ~ 4)) %>%
mutate(HouseStyle = case_when(HouseStyle == '1.5Unf' ~ 0, HouseStyle == 'SFoyer' ~ 1,
HouseStyle == '1.5Fin' ~ 2, HouseStyle == '2.5Unf' ~ 3,
HouseStyle == 'SLvl' ~ 4, HouseStyle == '1Story' ~ 5,
HouseStyle == '2Story' ~ 6, HouseStyle == '2.5Fin' ~ 7)) %>%
mutate(RoofStyle = case_when(RoofStyle == 'Gambrel' ~ 0, RoofStyle == 'Gable' ~ 1,
RoofStyle == 'Mansard' ~ 2, RoofStyle == 'Flat' ~ 3,
RoofStyle == 'Hip' ~ 4, RoofStyle == 'Shed' ~ 5)) %>%
mutate(RoofMatl = case_when(RoofMatl == 'Roll' ~ 0, RoofMatl == 'ClyTile' ~ 1,
RoofMatl == 'CompShg' ~ 2, RoofMatl == 'Metal' ~ 3,
RoofMatl == 'Tar&Grv' ~ 4, RoofMatl == 'WdShake' ~ 5,
RoofMatl == 'Membran' ~ 6, RoofMatl == 'WdShngl' ~ 7)) %>%
mutate(Exterior1st = case_when(Exterior1st == 'BrkComm' ~ 0, Exterior1st == 'AsphShn' ~ 1,
Exterior1st == 'CBlock' ~ 2, Exterior1st == 'AsbShng' ~ 3,
Exterior1st == 'MetalSd' ~ 4, Exterior1st == 'Wd Sdng' ~ 5,
Exterior1st == 'WdShing' ~ 6, Exterior1st == 'PreCast' ~ 7,
Exterior1st == 'Stucco' ~ 8, Exterior1st == 'HdBoard' ~ 9,
Exterior1st == 'Plywood' ~ 10, Exterior1st == 'BrkFace' ~ 11,
Exterior1st == 'VinylSd' ~ 12, Exterior1st == 'CemntBd' ~ 13,
Exterior1st == 'Stone' ~ 14, Exterior1st == 'ImStucc' ~ 15,
Exterior1st == 'Other' ~ 16, is.na(Exterior1st) ~ 0)) %>%
mutate(Exterior2nd = case_when(Exterior2nd == 'Brk Cmn' ~ 0, Exterior2nd == 'AsphShn' ~ 1,
Exterior2nd == 'CBlock' ~ 2, Exterior2nd == 'AsbShng' ~ 3,
Exterior2nd == 'MetalSd' ~ 4, Exterior2nd == 'Wd Sdng' ~ 5,
Exterior2nd == 'Wd Shng' ~ 6, Exterior2nd == 'PreCast' ~ 7,
Exterior2nd == 'Stucco' ~ 8, Exterior2nd == 'HdBoard' ~ 9,
Exterior2nd == 'Plywood' ~ 10, Exterior2nd == 'BrkFace' ~ 11,
Exterior2nd == 'VinylSd' ~ 12, Exterior2nd == 'CmentBd' ~ 13,
Exterior2nd == 'Stone' ~ 14, Exterior2nd == 'ImStucc' ~ 15,
Exterior2nd == 'Other' ~ 16, is.na(Exterior2nd) ~ 0)) %>%
mutate(MasVnrType = case_when(MasVnrType == 'CBlock' ~ 0, MasVnrType == 'BrkCmn' ~ 1,
MasVnrType == 'None' ~ 2, MasVnrType == 'BrkFace' ~ 3,
MasVnrType == 'Stone' ~ 4, is.na(MasVnrType) ~ 0)) %>%
mutate(ExterQual = case_when(ExterQual == 'Po' ~ 0, ExterQual == 'Fa' ~ 1,
ExterQual == 'TA' ~ 2, ExterQual == 'Gd' ~ 3,
ExterQual == 'Ex' ~ 4, is.na(ExterQual) ~ 2)) %>%
mutate(ExterCond = case_when(ExterCond == 'Po' ~ 0, ExterCond == 'Fa' ~ 1,
ExterCond == 'TA' ~ 2, ExterCond == 'Gd' ~ 3,
ExterCond == 'Ex' ~ 4, is.na(ExterCond) ~ 2)) %>%
mutate(Foundation = case_when(Foundation == 'Slab' ~ 0, Foundation == 'BrkTil' ~ 1,
Foundation == 'CBlock' ~ 2, Foundation == 'Stone' ~ 3,
Foundation == 'Wood' ~ 4, Foundation == 'PConc' ~ 5)) %>%
mutate(BsmtQual = case_when(BsmtQual == 'Po' ~ 0, is.na(BsmtQual) ~ 1,
BsmtQual == 'Fa' ~ 2, BsmtQual == 'TA' ~ 3,
BsmtQual == 'Gd' ~ 4, BsmtQual == 'Ex' ~ 5)) %>%
mutate(BsmtCond = case_when(BsmtCond == 'Po' ~ 0, is.na(BsmtCond) ~ 1,
BsmtCond == 'Fa' ~ 2, BsmtCond == 'TA' ~ 3,
BsmtCond == 'Gd' ~ 4, BsmtCond == 'Ex' ~ 5)) %>%
mutate(BsmtExposure = case_when(is.na(BsmtExposure) ~ 0, BsmtExposure == 'No' ~ 1,
BsmtExposure == 'Mn' ~ 2, BsmtExposure == 'Av' ~ 3,
BsmtExposure == 'Gd' ~ 4)) %>%
mutate(BsmtFinType1 = case_when(is.na(BsmtFinType1) ~ 0, BsmtFinType1 == 'Rec' ~ 1,
BsmtFinType1 == 'BLQ' ~ 2, BsmtFinType1 == 'LwQ' ~ 3,
BsmtFinType1 == 'ALQ' ~ 4, BsmtFinType1 == 'Unf' ~ 5,
BsmtFinType1 == 'GLQ' ~ 6)) %>%
mutate(BsmtFinType2 = case_when(is.na(BsmtFinType2) ~ 0, BsmtFinType2 == 'Rec' ~ 1,
BsmtFinType2 == 'BLQ' ~ 2, BsmtFinType2 == 'LwQ' ~ 3,
BsmtFinType2 == 'ALQ' ~ 4, BsmtFinType2 == 'Unf' ~ 5,
BsmtFinType2 == 'GLQ' ~ 6)) %>%
mutate(Heating = case_when(Heating == 'Floor' ~ 0, Heating == 'Grav' ~ 1,
Heating == 'Wall' ~ 2, Heating == 'OthW' ~ 3,
Heating == 'GasW' ~ 4, Heating == 'GasA' ~ 5)) %>%
mutate(HeatingQC = case_when(HeatingQC == 'Po' ~ 0, HeatingQC == 'Fa' ~ 1,
HeatingQC == 'TA' ~ 2, HeatingQC == 'Gd' ~ 3,
HeatingQC == 'Ex' ~ 4)) %>%
mutate(CentralAir = case_when(CentralAir == 'N' ~ 0, CentralAir == 'Y' ~ 1)) %>%
mutate(Electrical = case_when(Electrical == 'Mix' ~ 0, Electrical == 'FuseP' ~ 1,
Electrical == 'FuseF' ~ 2, Electrical == 'FuseA' ~ 3,
Electrical == 'FuseA' ~ 4, Electrical == 'SBrkr' ~ 4,
is.na(Electrical) ~ 3)) %>%
mutate(KitchenQual = case_when(KitchenQual == 'Po' ~ 0, KitchenQual == 'Fa' ~ 1,
KitchenQual == 'TA' ~ 2, KitchenQual == 'Gd' ~ 3,
KitchenQual == 'Ex' ~ 4, is.na(KitchenQual) ~ 2)) %>%
mutate(Functional = case_when(Functional == 'Sal' ~ 0, Functional == 'Sev' ~ 1,
Functional == 'Maj2' ~ 2, Functional == 'Maj1' ~ 3,
Functional == 'Mod' ~ 4, Functional == 'Min2' ~ 5,
Functional == 'Min1' ~ 6, Functional == 'Typ' ~ 7,
is.na(Functional) ~ 7)) %>%
mutate(FireplaceQu = case_when(FireplaceQu == 'Po' ~ 0, is.na(FireplaceQu) ~ 1,
FireplaceQu == 'Fa' ~ 2, FireplaceQu == 'TA' ~ 3,
FireplaceQu == 'Gd' ~ 4, FireplaceQu == 'Ex' ~ 5)) %>%
mutate(GarageType = case_when(is.na(GarageType) ~ 0, GarageType == 'CarPort' ~ 1,
GarageType == 'Detchd' ~ 2, GarageType == '2Types' ~ 3,
GarageType == 'Basment' ~ 4, GarageType == 'Attchd' ~ 5,
GarageType == 'BuiltIn' ~ 6)) %>%
mutate(GarageFinish = case_when(is.na(GarageFinish) ~ 0, GarageFinish == 'Unf' ~ 1,
GarageFinish == 'RFn' ~ 2, GarageFinish == 'Fin' ~ 3)) %>%
mutate(GarageQual = case_when(GarageQual == 'Po' ~ 0, is.na(GarageQual) ~ 1,
GarageQual == 'Fa' ~ 2, GarageQual == 'TA' ~ 3,
GarageQual == 'Gd' ~ 4, GarageQual == 'Ex' ~ 5)) %>%
mutate(GarageCond = case_when(GarageCond == 'Po' ~ 0, is.na(GarageCond) ~ 1,
GarageCond == 'Fa' ~ 2, GarageCond == 'TA' ~ 3,
GarageCond == 'Gd' ~ 4, GarageCond == 'Ex' ~ 5)) %>%
mutate(PavedDrive = case_when(PavedDrive == 'N' ~ 0, PavedDrive == 'P' ~ 1,
PavedDrive == 'Y' ~ 2)) %>%
mutate(PoolQC = case_when(is.na(PoolQC) ~ 0, PoolQC == 'Fa' ~ 1,
PoolQC == 'TA' ~ 2, PoolQC == 'Gd' ~ 3,
PoolQC == 'Ex' ~ 4)) %>%
mutate(Fence = case_when(is.na(Fence) ~ 0, Fence == 'MnWw' ~ 1,
Fence == 'GdWo' ~ 2, Fence == 'MnPrv' ~ 3,
Fence == 'GdPrv' ~ 4)) %>%
mutate(MiscFeature = case_when(is.na(MiscFeature) ~ 0, MiscFeature == 'Othr' ~ 1,
MiscFeature == 'Elev' ~ 2, MiscFeature == 'Shed' ~ 3,
MiscFeature == 'Gar2' ~ 4, MiscFeature == 'TenC' ~ 5)) %>%
mutate(SaleType = case_when(SaleType == 'Oth' ~ 0, SaleType == 'ConLD' ~ 1,
SaleType == 'ConLw' ~ 2, SaleType == 'COD' ~ 3,
SaleType == 'WD' ~ 4, SaleType == 'ConLI' ~ 5,
SaleType == 'VWD' ~ 6, SaleType == 'CWD' ~ 7,
SaleType == 'Con' ~ 8, SaleType == 'New' ~ 9,
is.na(SaleType) ~ 4)) %>%
mutate(SaleCondition = case_when(SaleCondition == 'AdjLand' ~ 0, SaleCondition == 'Alloca' ~ 1,
SaleCondition == 'Family' ~ 2, SaleCondition == 'Abnorml' ~ 3,
SaleCondition == 'Partial' ~ 4, SaleCondition == 'Normal' ~ 5)) %>%
mutate(MasVnrArea = ifelse(is.na(MasVnrArea),0,MasVnrArea)) %>%
mutate(LotFrontage = ifelse(is.na(LotFrontage),0,LotFrontage)) %>%
mutate(GarageYrBlt = ifelse(is.na(GarageYrBlt),0,GarageYrBlt)) %>%
mutate(GarageCars = ifelse(is.na(GarageCars),0,GarageCars))
return(df)
}
my_train_house <- house_clean(train_house)
str(my_train_house)
my_test_house <- house_clean(test_house)
house_prediction <- predict(house_model.lm, newdata = my_test_house)
summary(house_prediction)
texamine('GarageArea')
unique(test_house$GarageArea)
texamine('X2ndFltSF')
examine('X2ndFlrSF')
texamine('X2ndFlrSF')
unique(test_house$MSSubClass)
unique(test_house$GarageQual)
unique(test_house$BsmtFinSF1)
house_clean <- function(df) {
df <- df %>%
mutate(MSSubClass = case_when(MSSubClass == 30 ~ 0, MSSubClass == 180 ~ 1,
MSSubClass == 45 ~ 2, MSSubClass == 190 ~ 3,
MSSubClass == 90 ~ 4, MSSubClass == 160 ~ 5,
MSSubClass == 50 ~ 6, MSSubClass == 85 ~ 7,
MSSubClass == 40 ~ 8, MSSubClass == 70 ~ 9,
MSSubClass == 80 ~ 10, MSSubClass == 20 ~ 11,
MSSubClass == 75 ~ 12, MSSubClass == 120 ~ 13,
MSSubClass == 150 ~ 14, MSSubClass == 60 ~ 15)) %>%
mutate(MSZoning = case_when(MSZoning == 'A' ~ 0, MSZoning == 'C' ~ 1,
MSZoning == 'C (all)' ~ 1, MSZoning == 'I' ~ 2,
MSZoning == 'RM' ~ 3, MSZoning == 'RH' ~ 4,
MSZoning == 'RL' ~ 5, MSZoning == 'RP' ~ 6,
MSZoning == 'FV' ~ 7, is.na(MSZoning) ~ 0)) %>%
mutate(Street = case_when(Street == 'Grvl' ~ 0, Street == 'Pave' ~ 1, is.na(Street) ~ 0)) %>%
mutate(Alley = case_when(Alley == 'Grvl' ~ 0, Alley == 'Pave' ~ 1, is.na(Alley) ~ 2)) %>%
mutate(LotShape = case_when(LotShape == 'Reg' ~ 0, LotShape == 'IR1' ~ 1,
LotShape == 'IR3' ~ 2, LotShape == 'IR2' ~ 3)) %>%
mutate(LandContour = case_when(LandContour == 'Bnk' ~ 0, LandContour == 'Lvl' ~ 1,
LandContour == 'Low' ~ 2, LandContour == 'HLS' ~ 3)) %>%
mutate(Utilities = case_when(Utilities == 'ELO' ~ 0, Utilities == 'NoSeWa' ~ 1,
Utilities == 'NoSewr' ~ 2, Utilities == 'AllPub' ~ 3, is.na(Utilities) ~ 0)) %>%
mutate(LotConfig = case_when(LotConfig == 'Inside' ~ 0, LotConfig == 'FR2' ~ 1,
LotConfig == 'Corner' ~ 2, LotConfig == 'FR3' ~ 3,
LotConfig == 'CulDSac' ~ 4)) %>%
mutate(LandSlope = case_when(LandSlope == 'Gtl' ~ 0, LandSlope == 'Mod' ~ 1,
LandSlope == 'Sev' ~ 2)) %>%
mutate(Neighborhood = case_when(Neighborhood == 'MeadowV' ~ 0, Neighborhood == 'IDOTRR' ~ 1,
Neighborhood == 'BrDale' ~ 2, Neighborhood == 'BrkSide' ~ 3,
Neighborhood == 'Edwards' ~ 4, Neighborhood == 'OldTown' ~ 5,
Neighborhood == 'Sawyer' ~ 6, Neighborhood == 'Blueste' ~ 7,
Neighborhood == 'SWISU' ~ 8, Neighborhood == 'NPkVill' ~ 9,
Neighborhood == 'NAmes' ~ 10, Neighborhood == 'Mitchel' ~ 11,
Neighborhood == 'SawyerW' ~ 12, Neighborhood == 'NWAmes' ~ 13,
Neighborhood == 'Gilbert' ~ 14, Neighborhood == 'Blmngtn' ~ 15,
Neighborhood == 'CollgCr' ~ 16, Neighborhood == 'Crawfor' ~ 17,
Neighborhood == 'ClearCr' ~ 18, Neighborhood == 'Somerst' ~ 19,
Neighborhood == 'Veenker' ~ 20, Neighborhood == 'Timber' ~ 21,
Neighborhood == 'StoneBr' ~ 22, Neighborhood == 'NridgHt' ~ 23,
Neighborhood == 'NoRidge' ~ 24)) %>%
mutate(Condition1 = case_when(Condition1 == 'Artery' ~ 0, Condition1 == 'RRAe' ~ 1,
Condition1 == 'Feedr' ~ 2, Condition1 == 'RRAn' ~ 3,
Condition1 == 'Norm' ~ 4, Condition1 == 'RRNe' ~ 5,
Condition1 == 'RRNn' ~ 6, Condition1 == 'PosN' ~ 7,
Condition1 == 'PosA' ~ 8)) %>%
mutate(Condition2 = case_when(Condition2 == 'Artery' ~ 0, Condition2 == 'RRAe' ~ 1,
Condition2 == 'Feedr' ~ 2, Condition2 == 'RRAn' ~ 3,
Condition2 == 'Norm' ~ 4, Condition2 == 'RRNe' ~ 5,
Condition2 == 'RRNn' ~ 6, Condition2 == 'PosN' ~ 7,
Condition2 == 'PosA' ~ 8)) %>%
mutate(BldgType = case_when(BldgType == '2fmCon' ~ 0, BldgType == 'Twnhs' ~ 1,
BldgType == 'Duplex' ~ 2, BldgType == 'TwnhsE' ~ 3,
BldgType == '1Fam' ~ 4)) %>%
mutate(HouseStyle = case_when(HouseStyle == '1.5Unf' ~ 0, HouseStyle == 'SFoyer' ~ 1,
HouseStyle == '1.5Fin' ~ 2, HouseStyle == '2.5Unf' ~ 3,
HouseStyle == 'SLvl' ~ 4, HouseStyle == '1Story' ~ 5,
HouseStyle == '2Story' ~ 6, HouseStyle == '2.5Fin' ~ 7)) %>%
mutate(RoofStyle = case_when(RoofStyle == 'Gambrel' ~ 0, RoofStyle == 'Gable' ~ 1,
RoofStyle == 'Mansard' ~ 2, RoofStyle == 'Flat' ~ 3,
RoofStyle == 'Hip' ~ 4, RoofStyle == 'Shed' ~ 5)) %>%
mutate(RoofMatl = case_when(RoofMatl == 'Roll' ~ 0, RoofMatl == 'ClyTile' ~ 1,
RoofMatl == 'CompShg' ~ 2, RoofMatl == 'Metal' ~ 3,
RoofMatl == 'Tar&Grv' ~ 4, RoofMatl == 'WdShake' ~ 5,
RoofMatl == 'Membran' ~ 6, RoofMatl == 'WdShngl' ~ 7)) %>%
mutate(Exterior1st = case_when(Exterior1st == 'BrkComm' ~ 0, Exterior1st == 'AsphShn' ~ 1,
Exterior1st == 'CBlock' ~ 2, Exterior1st == 'AsbShng' ~ 3,
Exterior1st == 'MetalSd' ~ 4, Exterior1st == 'Wd Sdng' ~ 5,
Exterior1st == 'WdShing' ~ 6, Exterior1st == 'PreCast' ~ 7,
Exterior1st == 'Stucco' ~ 8, Exterior1st == 'HdBoard' ~ 9,
Exterior1st == 'Plywood' ~ 10, Exterior1st == 'BrkFace' ~ 11,
Exterior1st == 'VinylSd' ~ 12, Exterior1st == 'CemntBd' ~ 13,
Exterior1st == 'Stone' ~ 14, Exterior1st == 'ImStucc' ~ 15,
Exterior1st == 'Other' ~ 16, is.na(Exterior1st) ~ 0)) %>%
mutate(Exterior2nd = case_when(Exterior2nd == 'Brk Cmn' ~ 0, Exterior2nd == 'AsphShn' ~ 1,
Exterior2nd == 'CBlock' ~ 2, Exterior2nd == 'AsbShng' ~ 3,
Exterior2nd == 'MetalSd' ~ 4, Exterior2nd == 'Wd Sdng' ~ 5,
Exterior2nd == 'Wd Shng' ~ 6, Exterior2nd == 'PreCast' ~ 7,
Exterior2nd == 'Stucco' ~ 8, Exterior2nd == 'HdBoard' ~ 9,
Exterior2nd == 'Plywood' ~ 10, Exterior2nd == 'BrkFace' ~ 11,
Exterior2nd == 'VinylSd' ~ 12, Exterior2nd == 'CmentBd' ~ 13,
Exterior2nd == 'Stone' ~ 14, Exterior2nd == 'ImStucc' ~ 15,
Exterior2nd == 'Other' ~ 16, is.na(Exterior2nd) ~ 0)) %>%
mutate(MasVnrType = case_when(MasVnrType == 'CBlock' ~ 0, MasVnrType == 'BrkCmn' ~ 1,
MasVnrType == 'None' ~ 2, MasVnrType == 'BrkFace' ~ 3,
MasVnrType == 'Stone' ~ 4, is.na(MasVnrType) ~ 0)) %>%
mutate(ExterQual = case_when(ExterQual == 'Po' ~ 0, ExterQual == 'Fa' ~ 1,
ExterQual == 'TA' ~ 2, ExterQual == 'Gd' ~ 3,
ExterQual == 'Ex' ~ 4, is.na(ExterQual) ~ 2)) %>%
mutate(ExterCond = case_when(ExterCond == 'Po' ~ 0, ExterCond == 'Fa' ~ 1,
ExterCond == 'TA' ~ 2, ExterCond == 'Gd' ~ 3,
ExterCond == 'Ex' ~ 4, is.na(ExterCond) ~ 2)) %>%
mutate(Foundation = case_when(Foundation == 'Slab' ~ 0, Foundation == 'BrkTil' ~ 1,
Foundation == 'CBlock' ~ 2, Foundation == 'Stone' ~ 3,
Foundation == 'Wood' ~ 4, Foundation == 'PConc' ~ 5)) %>%
mutate(BsmtQual = case_when(BsmtQual == 'Po' ~ 0, is.na(BsmtQual) ~ 1,
BsmtQual == 'Fa' ~ 2, BsmtQual == 'TA' ~ 3,
BsmtQual == 'Gd' ~ 4, BsmtQual == 'Ex' ~ 5)) %>%
mutate(BsmtCond = case_when(BsmtCond == 'Po' ~ 0, is.na(BsmtCond) ~ 1,
BsmtCond == 'Fa' ~ 2, BsmtCond == 'TA' ~ 3,
BsmtCond == 'Gd' ~ 4, BsmtCond == 'Ex' ~ 5)) %>%
mutate(BsmtExposure = case_when(is.na(BsmtExposure) ~ 0, BsmtExposure == 'No' ~ 1,
BsmtExposure == 'Mn' ~ 2, BsmtExposure == 'Av' ~ 3,
BsmtExposure == 'Gd' ~ 4)) %>%
mutate(BsmtFinType1 = case_when(is.na(BsmtFinType1) ~ 0, BsmtFinType1 == 'Rec' ~ 1,
BsmtFinType1 == 'BLQ' ~ 2, BsmtFinType1 == 'LwQ' ~ 3,
BsmtFinType1 == 'ALQ' ~ 4, BsmtFinType1 == 'Unf' ~ 5,
BsmtFinType1 == 'GLQ' ~ 6)) %>%
mutate(BsmtFinType2 = case_when(is.na(BsmtFinType2) ~ 0, BsmtFinType2 == 'Rec' ~ 1,
BsmtFinType2 == 'BLQ' ~ 2, BsmtFinType2 == 'LwQ' ~ 3,
BsmtFinType2 == 'ALQ' ~ 4, BsmtFinType2 == 'Unf' ~ 5,
BsmtFinType2 == 'GLQ' ~ 6)) %>%
mutate(Heating = case_when(Heating == 'Floor' ~ 0, Heating == 'Grav' ~ 1,
Heating == 'Wall' ~ 2, Heating == 'OthW' ~ 3,
Heating == 'GasW' ~ 4, Heating == 'GasA' ~ 5)) %>%
mutate(HeatingQC = case_when(HeatingQC == 'Po' ~ 0, HeatingQC == 'Fa' ~ 1,
HeatingQC == 'TA' ~ 2, HeatingQC == 'Gd' ~ 3,
HeatingQC == 'Ex' ~ 4)) %>%
mutate(CentralAir = case_when(CentralAir == 'N' ~ 0, CentralAir == 'Y' ~ 1)) %>%
mutate(Electrical = case_when(Electrical == 'Mix' ~ 0, Electrical == 'FuseP' ~ 1,
Electrical == 'FuseF' ~ 2, Electrical == 'FuseA' ~ 3,
Electrical == 'FuseA' ~ 4, Electrical == 'SBrkr' ~ 4,
is.na(Electrical) ~ 3)) %>%
mutate(KitchenQual = case_when(KitchenQual == 'Po' ~ 0, KitchenQual == 'Fa' ~ 1,
KitchenQual == 'TA' ~ 2, KitchenQual == 'Gd' ~ 3,
KitchenQual == 'Ex' ~ 4, is.na(KitchenQual) ~ 2)) %>%
mutate(Functional = case_when(Functional == 'Sal' ~ 0, Functional == 'Sev' ~ 1,
Functional == 'Maj2' ~ 2, Functional == 'Maj1' ~ 3,
Functional == 'Mod' ~ 4, Functional == 'Min2' ~ 5,
Functional == 'Min1' ~ 6, Functional == 'Typ' ~ 7,
is.na(Functional) ~ 7)) %>%
mutate(FireplaceQu = case_when(FireplaceQu == 'Po' ~ 0, is.na(FireplaceQu) ~ 1,
FireplaceQu == 'Fa' ~ 2, FireplaceQu == 'TA' ~ 3,
FireplaceQu == 'Gd' ~ 4, FireplaceQu == 'Ex' ~ 5)) %>%
mutate(GarageType = case_when(is.na(GarageType) ~ 0, GarageType == 'CarPort' ~ 1,
GarageType == 'Detchd' ~ 2, GarageType == '2Types' ~ 3,
GarageType == 'Basment' ~ 4, GarageType == 'Attchd' ~ 5,
GarageType == 'BuiltIn' ~ 6)) %>%
mutate(GarageFinish = case_when(is.na(GarageFinish) ~ 0, GarageFinish == 'Unf' ~ 1,
GarageFinish == 'RFn' ~ 2, GarageFinish == 'Fin' ~ 3)) %>%
mutate(GarageQual = case_when(GarageQual == 'Po' ~ 0, is.na(GarageQual) ~ 1,
GarageQual == 'Fa' ~ 2, GarageQual == 'TA' ~ 3,
GarageQual == 'Gd' ~ 4, GarageQual == 'Ex' ~ 5)) %>%
mutate(GarageCond = case_when(GarageCond == 'Po' ~ 0, is.na(GarageCond) ~ 1,
GarageCond == 'Fa' ~ 2, GarageCond == 'TA' ~ 3,
GarageCond == 'Gd' ~ 4, GarageCond == 'Ex' ~ 5)) %>%
mutate(PavedDrive = case_when(PavedDrive == 'N' ~ 0, PavedDrive == 'P' ~ 1,
PavedDrive == 'Y' ~ 2)) %>%
mutate(PoolQC = case_when(is.na(PoolQC) ~ 0, PoolQC == 'Fa' ~ 1,
PoolQC == 'TA' ~ 2, PoolQC == 'Gd' ~ 3,
PoolQC == 'Ex' ~ 4)) %>%
mutate(Fence = case_when(is.na(Fence) ~ 0, Fence == 'MnWw' ~ 1,
Fence == 'GdWo' ~ 2, Fence == 'MnPrv' ~ 3,
Fence == 'GdPrv' ~ 4)) %>%
mutate(MiscFeature = case_when(is.na(MiscFeature) ~ 0, MiscFeature == 'Othr' ~ 1,
MiscFeature == 'Elev' ~ 2, MiscFeature == 'Shed' ~ 3,
MiscFeature == 'Gar2' ~ 4, MiscFeature == 'TenC' ~ 5)) %>%
mutate(SaleType = case_when(SaleType == 'Oth' ~ 0, SaleType == 'ConLD' ~ 1,
SaleType == 'ConLw' ~ 2, SaleType == 'COD' ~ 3,
SaleType == 'WD' ~ 4, SaleType == 'ConLI' ~ 5,
SaleType == 'VWD' ~ 6, SaleType == 'CWD' ~ 7,
SaleType == 'Con' ~ 8, SaleType == 'New' ~ 9,
is.na(SaleType) ~ 4)) %>%
mutate(SaleCondition = case_when(SaleCondition == 'AdjLand' ~ 0, SaleCondition == 'Alloca' ~ 1,
SaleCondition == 'Family' ~ 2, SaleCondition == 'Abnorml' ~ 3,
SaleCondition == 'Partial' ~ 4, SaleCondition == 'Normal' ~ 5)) %>%
mutate(MasVnrArea = ifelse(is.na(MasVnrArea),0,MasVnrArea)) %>%
mutate(LotFrontage = ifelse(is.na(LotFrontage),0,LotFrontage)) %>%
mutate(GarageYrBlt = ifelse(is.na(GarageYrBlt),0,GarageYrBlt)) %>%
mutate(GarageCars = ifelse(is.na(GarageCars),0,GarageCars)) %>%
mutate(BsmtFinSF1 = ifelse(is.na(BsmtFinSF1),0,BsmtFinSF1))
return(df)
}
my_train_house <- house_clean(train_house)
str(my_train_house)
my_test_house <- house_clean(test_house)
house_prediction <- predict(house_model.lm, newdata = my_test_house)
summary(house_prediction)
write.csv(house_prediction,'house_submission.csv',row.names = TRUE, quote = FALSE)
write.csv(round(house_prediction,0),'house_submission.csv',row.names = TRUE, quote = FALSE)
test_house[757,]
my_test_house[757,]
test_house[757,c('OverallQual','Neighborhood','ExterQual','KitchenQual','GarageCars','BsmtQual','X1stFlrSF','FireplaceQu','YearBuilt','MSSubClass','MasVnrArea','BsmtFinSF1','BsmtExposure','SaleType','WoodDeckSF','X2ndFlrSF','GarageQual','LotArea','GarageYrBlt')]
house_prediction_df <- as.data.frame(house_prediction)
house_prediction_df$Id <- test_house$Id
write.csv(house_prediction_df[,c(2,1)],'house_submission.csv',row.names = TRUE, quote = FALSE)
house_prediction_df <- as.data.frame(house_prediction)
house_prediction_df$Id <- test_house$Id
write.csv(house_prediction_df[,c(2,1)],'house_submission.csv',row.names = FALSE, quote = FALSE)
